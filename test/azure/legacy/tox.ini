[tox]
envlist=py27, py36
skipsdist=True

[testenv]
deps=
    -rrequirements.txt
    coverage
commands=
    pytest --cov=Expected

[testenv:ci]
deps=
    -rrequirements.txt
    coverage==4.5.4
    pytest-cov
commands =
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/AzureBodyDuration
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/AzureParameterGrouping
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/AzureReport
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/AzureSpecials
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/CustomBaseUri
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/CustomUrlPaging
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/Head
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/HeadExceptions
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/Lro
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/LroWithParameterizedEndpoints
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/Paging
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/StorageManagementClient
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/SubscriptionIdApiVersion
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/CustomPollerPager
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/CustomPollerPagerDefinitions
    pytest --cov=Expected
