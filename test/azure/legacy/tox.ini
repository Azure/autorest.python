[tox]
envlist=py27, py36
skipsdist=True

[testenv]
deps=
    -rrequirements.txt
    coverage
commands=
    pytest --cov=Expected

[testenv:ci]
deps=
    -rrequirements.txt
    coverage==4.5.4
commands =
    {envbindir}/python -m pip install requests>=2.14.0
    {envbindir}/python -m pip install pytest
    {envbindir}/python -m pip install pytest-cov
    {envbindir}/python -m pip install pytest-asyncio==0.14.0
    {envbindir}/python -m pip install async_generator
    {envbindir}/python -m pip install azure-core>=1.8.2
    {envbindir}/python -m pip install azure-mgmt-core>=1.2.1
    {envbindir}/python -m pip install msrest>=0.6.21
    {envbindir}/python -m pip install aiohttp
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/AzureBodyDuration
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/AzureParameterGrouping
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/AzureReport
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/AzureSpecials
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/CustomBaseUri
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/CustomUrlPaging
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/Head
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/HeadExceptions
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/Lro
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/LroWithParameterizedEndpoints
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/Paging
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/StorageManagementClient
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/SubscriptionIdApiVersion
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/CustomPollerPager
    {envbindir}/python -m pip install -e ./Expected/AcceptanceTests/CustomPollerPagerDefinitions
    pytest --cov=Expected
